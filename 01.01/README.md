# A-Collection-Of-Underwater-Image-Restoration-And-Enhancement-With-Mean-Squared-Error-Measuring

**Method 1.01:**

The work that is done in this Method 1.01 and its variants is described in [1]. This variant computations process can be charted as below: 

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]


**Method 1.02:**

Since Residual pyramid contains negative values, each pyramid will have negative values too. In this case, the pyramids are normalized to unity 0-1 before reconstructing medium transmission matrix from.

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization 

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]



**Method 1.03:**

This method normalizes the pyramids before reconstruction. It also doesn't normalize the medium transmission matrix after it is generated by pyramid reconstruction step.


•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix 

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]



**Method 1.04:**

This method is almost completely alike to method 1.01. the only difference is in saliency detection algorithm. This is another saliency detection algorithm which is highly slow.

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]


**Method 1.05:**

This method is almost completely alike to method 1.02. the only difference is in saliency detection algorithm. This is another saliency detection algorithm which is highly slow.

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization 

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]



**Method 1.06:**

This method normalizes the pyramids before reconstruction. It also doesn't normalize the medium transmission matrix after it is generated by pyramid reconstruction step. This method is almost completely alike to method 1.03. the only difference is in saliency detection algorithm. This is another saliency detection algorithm which is very slow.



•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix 

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]



**Method 1.07:**

The work that is done in this Method 1.01 and its variants is described in [1]. This variant computations process can be charted as below: 

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]


**Method 1.02:**

Since Residual pyramid contains negative values, each pyramid will have negative values too. In this case, the pyramids are normalized to unity 0-1 before reconstructing medium transmission matrix from.

•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix + Normalization

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix + Normalization

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization 

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix + Normalization

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]



**Method 1.03:**

This method normalizes the pyramids before reconstruction. It also doesn't normalize the medium transmission matrix after it is generated by pyramid reconstruction step.


•	Normalized UDCP Medium Transmission Matrix

•	Normalized Saliency Map for UDCP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized UDCP Matrix

•	Normalized IATP Medium Transmission Matrix

•	Normalized Saliency Map for IATP Matrix

•	4-Level Gaussian Pyramid for Normalized Saliency Map

•	4-Level Residual Pyramid for Normalized IATP Matrix

•	Multiplying UDCP Saliency Pyramid by UDCP Residual Pyramid to Build UDCP Pyramid + Normalizing 

•	Reconstructing UDCP Pyramid to Build Refined UDCP Matrix

•	Scene Depth by Log (Refined UDCP Matrix)/Log (0.8) Eq.16 [1]

•	Final UDCP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final UDCP Matrix Eq.18 [1]

•	Multiplying IATP Saliency Pyramid by IATP Residual Pyramid to Build IATP Pyramid + Normalization

•	Reconstructing IATP Pyramid to Build Refined IATP Matrix 

•	Scene Depth by Log (Refined IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final IATP Matrix Eq.18 [1]

•	Joint UDCP + IATP Pyramids as Summation of Corresponding Pyramids + Normalization

•	Reconstructing Joint UDCP + IATP Pyramid to Build Joint UDCP + IATP Matrix

•	Scene Depth by Log (Joint UDCP + IATP Matrix)/Log (0.8) Eq.16 [1]

•	Final Joint UDCP + IATP Matrix by 0.85^ (Scene Depth) Eq.17 [1]

•	Get Restored Red Channel Intensities with Final Joint UDCP + IATP Matrix Eq.18 [1]








[1] 	Underwater Image Restoration Based On a New Underwater Image Formation Model

[2]   P. L. J. Drews, Jr., E. R. Nascimento, S. S. C. Botelho, and M. F. M. Campos, ‘‘Underwater depth estimation and image restoration based on single images,’’ IEEE Comput. Graph. Appl., vol. 36, no. 2, pp. 24–35, Mar./Apr. 2016.

[3]   N. Carlevaris-Bianco, A. Mohan, and R. M. Eustice, ‘‘Initial results in underwater single image dehazing,’’ in Proc. IEEE Conf. OCEANS, Sep. 2010, pp. 1–8.

[4]	http://ivrg.epfl.ch/supplementary_material/RK_CVPR09/index.html

[5]	https://www.epfl.ch/labs/ivrl/research/saliency/salient-region-detection-and-segmentation/

 
